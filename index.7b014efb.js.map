{"mappings":"AAIA,MAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAgBF,SAASC,cAAc,YACvCE,EAAcH,SAASC,cAAc,cAErCG,EAAa,ICPZ,MAOPC,eACI,OAAOC,MAAM,qEAAqEC,KAAKC,sEAAsED,KAAKE,oBACrKC,MAAKC,IACN,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE5B,OAAOH,EAASI,MAAM,G,CAXvBC,cACIT,KAAKE,KAAO,EACZF,KAAKC,MAAQ,I,GD2DjB,SAASS,EAAaC,GAEjB,MAAMC,EAASD,EAAIE,KAAI,EAACC,aAAEA,EAAYC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KACpE,8DAC4BL,WAAsBC,+GAG9BC,gFAGAC,mFAGGC,oFAGCC,oDAIxBC,KAAK,IACZzB,EAAc0B,mBAAmB,YAAaT,E,CAI9CpB,EAAW8B,iBAAiB,UA9EDC,IACvBA,EAAMC,iBAEN3B,EAAWI,MAAQsB,EAAME,cAAcC,YAAYC,MACnD9B,EAAWK,KAAO,EAElBL,EAAWC,eAAeK,MAAKyB,IAC3B,IAAKA,EAAKC,KAAKC,OAKX,OAJAC,MAAM,SACNR,EAAMS,OAAOC,QACbtC,EAAcuC,UAAY,QAC1BtC,EAAYuC,UAAUC,IAAI,aAEnBR,EAAMC,KAAKC,OAASjC,EAAWK,KAAQ,IAElDQ,EAAakB,EAAKC,MAClBQ,QAAQC,IAAIV,EAAKC,KAAKC,QAClBO,QAAQC,IAAIV,EAAKW,WACjBF,QAAQC,IAAIV,EAAKC,KAAKC,OAASjC,EAAWK,QAE9CQ,EAAakB,EAAKC,MAClBQ,QAAQC,IAAIV,GACRhC,EAAYuC,UAAUK,OAAO,a,IAGlCC,OAAMC,IACLL,QAAQC,IAAII,EAAM,GACpB,IAoDN9C,EAAY0B,iBAAiB,SAjDNC,IACnB1B,EAAWK,MAAQ,EAEnBL,EAAWC,eAAeK,MAAKyB,IACvBA,EAAMC,KAAKC,OAASjC,EAAWK,MAAS,KAExCQ,EAAakB,EAAKC,MAClBQ,QAAQC,IAAIV,EAAKC,KAAKC,QAClBO,QAAQC,IAAIV,EAAKW,WACjB3C,EAAYuC,UAAUC,IAAI,cAEtC1B,EAAakB,EAAKC,MAClBQ,QAAQC,IAAIV,EAAKC,KAAKC,QACtBO,QAAQC,IAAIV,EAAKW,WACjBF,QAAQC,IAAIV,EAAKC,KAAKC,OAASjC,EAAWK,KAAK,IAEhDuC,OAAMC,IACLL,QAAQC,IAAII,EAAM,GACpB","sources":["src/script.js","src/PixabayAPI.js"],"sourcesContent":["\n\nimport { PixabayAPI } from './PixabayAPI.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst photosGallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nconst pixabayAPI = new PixabayAPI();\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    \n    pixabayAPI.query = event.currentTarget.searchQuery.value;\n    pixabayAPI.page = 1;\n\n    pixabayAPI.searchPhotos().then(data => {\n        if (!data.hits.length) {\n            alert('oops!')\n            event.target.reset();\n            photosGallery.innerHTML = '';\n            loadMoreBtn.classList.add('is-hidden');\n            return;\n        } else if ((data.hits.length * pixabayAPI.page) < 40) {\n        //alert(\"We're sorry, but you've reached the end of search results\");\n        renderPhotos(data.hits);\n        console.log(data.hits.length);\n            console.log(data.totalHits);\n            console.log(data.hits.length * pixabayAPI.page);\n        }  else { \n        renderPhotos(data.hits);\n        console.log(data);\n            loadMoreBtn.classList.remove('is-hidden');\n        \n    }   \n    }).catch(error => {\n        console.log(error);\n    }) \n}\n\nconst onLoadBtnClick = event => {\n    pixabayAPI.page += 1;\n\n    pixabayAPI.searchPhotos().then(data => {\n        if ((data.hits.length * pixabayAPI.page) <= 40) {\n            //alert(\"We're sorry, but you've reached the end of search results\");\n            renderPhotos(data.hits);\n            console.log(data.hits.length);\n                console.log(data.totalHits);\n                loadMoreBtn.classList.add('is-hidden');\n            } \n    renderPhotos(data.hits);\n    console.log(data.hits.length);\n    console.log(data.totalHits);\n    console.log(data.hits.length * pixabayAPI.page);\n    \n}).catch(error => {\n    console.log(error);\n}) \n}\n\n\n\nfunction renderPhotos(arr) {\n\n     const markup = arr.map(({ webformatURL, tags, likes, views, comments, downloads}) => {\nreturn `<div class=\"photo-card\">\n         <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b> ${likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b> ${views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b> ${comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b> ${downloads}\n          </p>\n        </div>\n      </div>`\n    }).join('');\nphotosGallery.insertAdjacentHTML('beforeend', markup); \n}\n\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadBtnClick);\n\n\n","\nexport class PixabayAPI {\n\nconstructor() {\n    this.page = 1;\n    this.query = null;\n  }\n\nsearchPhotos() {\n    return fetch(`https://pixabay.com/api/?key=32917411-0bf5fafbdbcee2600446b2252&q=${this.query}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=40`)\n.then(response => {\nif (!response.ok) {\n    throw new Error(response.status);\n}\n return response.json();\n});\n}\n}"],"names":["$2aac3885343dc6b2$var$searchForm","document","querySelector","$2aac3885343dc6b2$var$photosGallery","$2aac3885343dc6b2$var$loadMoreBtn","$2aac3885343dc6b2$var$pixabayAPI","searchPhotos","fetch","this","query","page","then","response","ok","Error","status","json","constructor","$2aac3885343dc6b2$var$renderPhotos","arr","markup","map","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","event","preventDefault","currentTarget","searchQuery","value","data","hits","length","alert","target","reset","innerHTML","classList","add","console","log","totalHits","remove","catch","error"],"version":3,"file":"index.7b014efb.js.map"}