{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/PixabayAPI.js","<<jsx-config-pragma.js>>","src/script.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\nexport class PixabayAPI {\n\nconstructor() {\n    this.page = 1;\n    this.query = null;\n  }\n\nsearchPhotos() {\n    return fetch(`https://pixabay.com/api/?key=32917411-0bf5fafbdbcee2600446b2252&q=${this.query}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=40`)\n.then(response => {\nif (!response.ok) {\n    throw new Error(response.status);\n}\n return response.json();\n});\n}\n}",null,"\n\nimport { PixabayAPI } from './PixabayAPI.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst photosGallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nconst pixabayAPI = new PixabayAPI();\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    \n    pixabayAPI.query = event.currentTarget.searchQuery.value;\n    pixabayAPI.page = 1;\n\n    pixabayAPI.searchPhotos().then(data => {\n        if (!data.hits.length) {\n            alert('oops!')\n            event.target.reset();\n            photosGallery.innerHTML = '';\n            loadMoreBtn.classList.add('is-hidden');\n            return;\n        } else if ((data.hits.length * pixabayAPI.page) < 40) {\n        //alert(\"We're sorry, but you've reached the end of search results\");\n        renderPhotos(data.hits);\n        console.log(data.hits.length);\n            console.log(data.totalHits);\n            console.log(data.hits.length * pixabayAPI.page);\n        }  else { \n        renderPhotos(data.hits);\n        console.log(data);\n            loadMoreBtn.classList.remove('is-hidden');\n        \n    }   \n    }).catch(error => {\n        console.log(error);\n    }) \n}\n\nconst onLoadBtnClick = event => {\n    pixabayAPI.page += 1;\n\n    pixabayAPI.searchPhotos().then(data => {\n        if ((data.hits.length * pixabayAPI.page) <= 40) {\n            //alert(\"We're sorry, but you've reached the end of search results\");\n            renderPhotos(data.hits);\n            console.log(data.hits.length);\n                console.log(data.totalHits);\n                loadMoreBtn.classList.add('is-hidden');\n            } \n    renderPhotos(data.hits);\n    console.log(data.hits.length);\n    console.log(data.totalHits);\n    console.log(data.hits.length * pixabayAPI.page);\n    \n}).catch(error => {\n    console.log(error);\n}) \n}\n\n\n\nfunction renderPhotos(arr) {\n\n     const markup = arr.map(({ webformatURL, tags, likes, views, comments, downloads}) => {\nreturn `<div class=\"photo-card\">\n         <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b> ${likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b> ${views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b> ${comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b> ${downloads}\n          </p>\n        </div>\n      </div>`\n    }).join('');\nphotosGallery.insertAdjacentHTML('beforeend', markup); \n}\n\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadBtnClick);\n\n\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$a910b3ce8c00ef13$export$4fcfbd750f3dd343","PixabayAPI","this","page","query","fetch","concat","then","response","ok","Error","status","json","$81cdcb03b6ee87e9$var$searchForm","document","querySelector","$81cdcb03b6ee87e9$var$photosGallery","$81cdcb03b6ee87e9$var$loadMoreBtn","$81cdcb03b6ee87e9$var$pixabayAPI","$81cdcb03b6ee87e9$var$renderPhotos","arr","markup","map","param","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","event","preventDefault","currentTarget","searchQuery","searchPhotos","data","hits","alert","reset","innerHTML","classList","add","console","log","totalHits","remove","catch","error"],"version":3,"file":"index.11e4df2e.js.map"}